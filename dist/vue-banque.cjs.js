"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("vue");const e="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=t=>e?Symbol("[vue-banque]: "+t):"[vue-banque]: "+t,r=o("vue-banque"),n=o("Modifying property directly from Hook Store is not allowed"),i=o("hook-action"),s=o("banque-module");class c{options;rootState;constructor(t){this.options=t,this.rootState={},this.initModules()}initModules(){const{modules:t}=this.options;t&&Object.keys(t).forEach((e=>{const o=t[e];if(o){const t=this.createModule(o);this.bindModule(e,t)}}))}createModule(e){const{rootState:o}=this,r={};return Object.defineProperty(r,s.toString(),{get:()=>!0}),Object.keys(e).forEach((t=>{const n="function"==typeof e[t]?function(t,e){function o(...o){return t.apply(e,[e,...o])}return Object.defineProperty(o,i.toString(),{get:()=>!0}),o}(e[t],o):e[t];r[t]=n})),new Proxy(r,{get(e,o,r){const n=Reflect.get(e,o,r);return"function"==typeof n&&n[i.toString()]?n:t.toRef(e,o)},set(){throw Error(n.toString())}})}bindModule(e,o){const{rootState:r}=this;return o[s.toString()]?(Object.defineProperty(r,e,{get:()=>t.readonly(o)}),r[e]):o}install(t){Object.defineProperty(t.config.globalProperties,"$banque",{get:()=>this.rootState}),t.provide(r,this.rootState)}inject(){return t.inject(r)}}exports.createBanque=function(t){return new c(t)};
//# sourceMappingURL=vue-banque.cjs.js.map
