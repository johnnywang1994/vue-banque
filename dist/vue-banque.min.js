!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).VueBanque=e(t.Vue)}(this,(function(t){"use strict";const e="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=t=>e?Symbol("[vue-banque]: "+t):"[vue-banque]: "+t,n=o("vue-banque"),i=o("No banque module was found, at least add one module in `modules` options"),r=o("Modifying property directly from Hook Store is not allowed"),u=o("hook-action"),s=o("banque-module"),c={globalName:"$banque",autoToRef:!0,strict:!0};function a(t,e,o){Object.defineProperty(t,e,{get:o})}function l(t){return"function"==typeof t}function f(t,e){const o={};return a(o,s.toString(),(()=>!0)),Object.keys(t).forEach((n=>{const i=l(t[n])?function(t,e){function o(...o){return t.apply(e,[e,...o])}return a(o,u.toString(),(()=>!0)),o}(t[n],e):t[n];o[n]=i})),o}function d(e,o){const{autoToRef:n,strict:i}=o,s=function(...t){return t.reduce(((t,e)=>(...o)=>e(t(...o))))}(n?(e,o)=>t.toRef(e,o):(t,e)=>t[e],i?e=>t.readonly(e):t=>t);return new Proxy(e,{get(t,e,o){const n=Reflect.get(t,e,o);return function(t){return l(t)&&t[u.toString()]}(n)?n:s(t,e)},set:()=>(console.warn(r.toString()),!1)})}class p{options;rootState;constructor(t){this.options=this.getOptions(t),this.rootState={},this.initModules()}getOptions(t){return Object.assign(c,t)}initModules(){const{modules:t}=this.options;t?Object.keys(t).forEach((e=>{const o=t[e];let n;if(null!==(i=o)&&"object"==typeof i)n=this.createModule(o);else if(l(o)){const t=o;n=this.createModule(t())}var i;n&&this.bindModule(e,n)})):console.warn(i.toString())}createModule(t){const{rootState:e,options:o}=this;return d(f(t,e),o)}bindModule(e,o){const{rootState:n}=this;return o[s.toString()]?(a(n,e,(()=>t.readonly(o))),n[e]):o}install(t){const{options:e}=this;a(t.config.globalProperties,e.globalName,(()=>this.rootState)),t.provide(n,this.rootState)}inject(){return t.inject(n)}}return{createBanque:function(t){return new p(t)}}}));//# sourceMappingURL=vue-banque.min.js.map
