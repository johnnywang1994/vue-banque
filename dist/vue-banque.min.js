!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).VueBanque=e(t.Vue)}(this,(function(t){"use strict";const e="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=t=>e?Symbol("[vue-banque]: "+t):"[vue-banque]: "+t,n=o("vue-banque"),r=o("Modifying property directly from Hook Store is not allowed"),i=o("hook-action"),u=o("banque-module");class s{options;rootState;constructor(t){this.options=t,this.rootState={},this.initModules()}initModules(){const{modules:t}=this.options;t&&Object.keys(t).forEach((e=>{const o=t[e];if(o){const t=this.createModule(o);this.bindModule(e,t)}}))}createModule(e){const{rootState:o}=this,n={};return Object.defineProperty(n,u.toString(),{get:()=>!0}),Object.keys(e).forEach((t=>{const r="function"==typeof e[t]?function(t,e){function o(...o){return t.apply(e,[e,...o])}return Object.defineProperty(o,i.toString(),{get:()=>!0}),o}(e[t],o):e[t];n[t]=r})),new Proxy(n,{get(e,o,n){const r=Reflect.get(e,o,n);return"function"==typeof r&&r[i.toString()]?r:t.toRef(e,o)},set(){throw Error(r.toString())}})}bindModule(e,o){const{rootState:n}=this;return o[u.toString()]?(Object.defineProperty(n,e,{get:()=>t.readonly(o)}),n[e]):o}install(t){Object.defineProperty(t.config.globalProperties,"$banque",{get:()=>this.rootState}),t.provide(n,this.rootState)}inject(){return t.inject(n)}}return{createBanque:function(t){return new s(t)}}}));//# sourceMappingURL=vue-banque.min.js.map
